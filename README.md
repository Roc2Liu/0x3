# 🔍 0x3 - 搜索引擎聚合导航

> 一个美观、现代的搜索引擎聚合导航网站。支持多引擎切换、自定义添加、主题切换、数据导入导出、云同步等功能。

[![Vue 3](https://img.shields.io/badge/Vue-3.4+-4FC08D?style=flat&logo=vue.js)](https://vuejs.org/)
[![Vite](https://img.shields.io/badge/Vite-5.0+-646CFF?style=flat&logo=vite)](https://vitejs.dev/)
[![License](https://img.shields.io/badge/License-MIT-blue.svg)](LICENSE)

## ✨ 核心特性

### 🔄 搜索引擎管理
- **多引擎切换**：快速切换不同的搜索引擎
- **自定义添加**：添加任意搜索引擎，支持 Emoji 图标或 SVG 图片
- **在线编辑**：随时编辑搜索引擎的名称、图标和 URL
- **智能排序**：支持按名称或添加时间排序
- **搜索过滤**：快速查找已添加的搜索引擎
- **实时验证**：添加时自动检测重复的名称和 URL

### 💾 数据管理
- **本地存储**：搜索引擎配置存储在 LocalStorage，背景图片存储在 IndexedDB，完全离线可用
- **导入导出**：支持加密的搜索引擎配置导入导出
- **数据安全**：基于域名和时间戳的动态加密，确保数据安全
- **云同步**：使用 GitHub Gist 在多个设备间同步配置

### 🖼️ 背景图片
- **自定义背景**：支持上传自定义背景图片，以原始质量存储
- **历史管理**：自动保存最多 5 张历史背景图片，方便快速切换
- **磨砂透明**：统一的磨砂透明背景效果，美观现代
- **深色模式适配**：深色模式下自动添加遮罩，保护眼睛

### ☁️ 云同步
- **GitHub Gist 集成**：使用 GitHub Gist API 实现数据同步
- **数据加密**：上传前数据加密存储
- **多设备支持**：在多个设备间同步搜索引擎配置
- **自动保存**：首次上传后自动保存 Gist ID

### 🎨 主题系统
- **多种模式**：浅色、深色、自动三种主题模式
- **时间自动切换**：自动模式下，晚上 8 点到早上 6 点自动切换深色模式
- **系统跟随**：自动模式跟随系统偏好设置
- **平滑过渡**：主题切换带有平滑动画效果
- **磨砂透明**：统一的磨砂透明背景效果，提升视觉体验

### 📱 响应式设计
- **完美适配**：桌面端和移动端都有优化的布局
- **触摸友好**：移动端优化的触摸交互
- **简洁界面**：PC 端仅显示下拉菜单，保持界面简洁

### 📲 PWA 支持
- **可安装应用**：支持安装到桌面和移动设备
- **离线访问**：Service Worker 缓存，支持离线访问和配置
- **自动更新**：应用自动检查并更新到最新版本
- **原生体验**：全屏显示，类似原生应用体验

> ⚠️ **注意**：虽然应用支持离线访问和配置，但搜索功能仍需要网络连接。

## 🚀 快速开始

### 前置要求

- **Node.js** 16.0 或更高版本
- **npm** 或 **yarn** 包管理器

### 安装步骤

1. **克隆项目**（或下载源码）

```bash
git clone https://github.com/Roc2Liu/0x3.git
cd 0x3
```

2. **安装依赖**

```bash
npm install
```

3. **启动开发服务器**

```bash
npm run dev
```

开发服务器会在 `http://localhost:3000` 启动，支持热模块替换（HMR）。

4. **构建生产版本**

```bash
npm run build
```

构建的文件将输出到 `dist/` 目录。

5. **预览生产版本**

```bash
npm run preview
```

## 📖 使用指南

### 基础搜索

1. 在搜索框中输入关键词
2. 点击搜索按钮或按 `Enter` 键
3. 搜索结果会在新标签页中打开

### 切换搜索引擎

**PC 端：下拉菜单**
- 点击搜索框左侧的引擎选择器
- 从列表中选择目标搜索引擎
- 支持键盘导航：`↑` / `↓` 选择，`Enter` 确认

### 添加搜索引擎

1. 点击右上角的 ⚙️ **设置** 按钮
2. 在"添加搜索引擎"表单中填写：
   - **名称**：搜索引擎的显示名称（如：Google）
   - **图标**：输入 Emoji（如：🌐）或点击上传按钮选择 SVG 图片
   - **搜索 URL**：使用 `{query}` 作为搜索关键词占位符
     - 示例：`https://www.google.com/search?q={query}`
3. 点击"添加"按钮完成添加

> 💡 **提示**：系统会自动检测重复的名称和 URL，并在输入时实时提示。

**URL 格式示例：**
```
Google:      https://www.google.com/search?q={query}
百度:        https://www.baidu.com/s?wd={query}
Bing:        https://www.bing.com/search?q={query}
GitHub:      https://github.com/search?q={query}
YouTube:     https://www.youtube.com/results?search_query={query}
DuckDuckGo:  https://duckduckgo.com/?q={query}
```

### 编辑搜索引擎

1. 进入设置页面
2. 在"已添加的搜索引擎"列表中找到要编辑的引擎
3. 点击"编辑"按钮
4. 修改名称、图标或 URL
5. 点击"保存"或"取消"

### 删除搜索引擎

1. 进入设置页面
2. 在"已添加的搜索引擎"列表中找到要删除的引擎
3. 点击"删除"按钮
4. 确认删除操作

> ⚠️ **注意**：Bing 是默认搜索引擎，不能删除。

### 导入导出

#### 导出配置

1. 进入设置页面
2. 点击"导出"按钮
3. 浏览器会自动下载加密的配置文件（`.json` 格式）

#### 导入配置

1. 进入设置页面
2. 点击"导入"按钮
3. 选择之前导出的配置文件
4. 确认导入操作
5. 导入成功后，相同 ID 的引擎会被覆盖

> 🔒 **安全说明**：配置文件使用基于域名和时间戳的动态加密，只有本网站可以正确解析。

### 云同步

#### 配置云同步

1. **创建 GitHub Personal Access Token**
   - 访问：https://github.com/settings/tokens
   - 点击 "Generate new token (classic)"
   - 命名：`0x3 Search Engine Sync`
   - 选择权限：勾选 `gist` 权限
   - 生成并复制 Token（格式：`ghp_xxxxxxxxxxxxxxxxxxxx`）

2. **在网站中配置**
   - 进入设置页面
   - 找到"云同步"区域
   - 输入 GitHub Token
   - （可选）如果已有 Gist ID，填写后可下载
   - 点击"验证并保存"

#### 使用云同步

- **上传到云端**：点击"上传到云端"按钮，将当前搜索引擎配置上传
- **从云端下载**：在其他设备上配置相同 Token 和 Gist ID，点击"从云端下载"

> 💡 **提示**：
> - 首次上传后，Gist ID 会自动保存
> - 数据上传前会加密存储
> - 多个设备可以使用相同的 Token 和 Gist ID 进行同步

### 主题切换

点击右上角的主题按钮可以切换：
- ☀️ **浅色模式**：明亮的浅色主题
- 🌙 **深色模式**：护眼的深色主题
- 🌓 **自动模式**：跟随系统设置
  - 系统深色模式时使用深色主题
  - 晚上 8 点到早上 6 点自动使用深色主题
  - 其他时间使用浅色主题

### 安装 PWA 应用

#### 桌面端（Chrome/Edge）
1. 点击浏览器地址栏右侧的安装图标
2. 或点击右上角菜单 → "安装 0x3"
3. 应用将安装到桌面，可以像原生应用一样使用

#### 移动端（Android Chrome）
1. 打开网站后，浏览器会显示"添加到主屏幕"提示
2. 点击"添加"或通过菜单选择"添加到主屏幕"
3. 应用图标将出现在主屏幕上

#### iOS Safari
1. 点击底部的分享按钮
2. 选择"添加到主屏幕"
3. 应用图标将出现在主屏幕上

> 💡 **提示**：安装后可以离线访问和配置，但搜索功能仍需要网络连接。

## 🛠️ 技术栈

- **Vue 3.4+** - 渐进式 JavaScript 框架（Composition API）
- **Vite 5.0+** - 下一代前端构建工具
- **vite-plugin-pwa** - PWA 支持插件
- **Workbox** - Service Worker 工具库
- **CSS Variables** - 动态主题切换
- **LocalStorage API** - 本地数据存储（搜索引擎配置）
- **IndexedDB API** - 大容量本地存储（背景图片）
- **GitHub Gist API** - 云同步服务

## 📁 项目结构

```
0x3/
├── public/
│   ├── favicon.svg          # 网站图标
│   ├── bing-color.svg       # Bing 搜索引擎图标
│   ├── icon-192.png         # PWA 图标 192x192
│   ├── icon-512.png         # PWA 图标 512x512
│   ├── robots.txt           # 搜索引擎爬虫规则
│   └── sitemap.xml          # 网站地图
├── src/
│   ├── components/          # Vue 组件
│   │   ├── SearchBox.vue   # 搜索框组件（含下拉选择）
│   │   ├── Settings.vue    # 设置面板组件
│   │   ├── About.vue       # 关于页面组件
│   │   └── Notification.vue # 自定义通知组件
│   ├── composables/        # 组合式函数
│   │   ├── useSearchEngines.js  # 搜索引擎管理逻辑
│   │   └── useTheme.js          # 主题管理逻辑
│   ├── utils/              # 工具函数
│   │   ├── notify.js       # 通知系统
│   │   ├── cloudSync.js    # 云同步服务
│   │   ├── encrypt.js      # 加密工具
│   │   └── backgroundImage.js # 背景图片管理（IndexedDB）
│   ├── App.vue             # 根组件
│   ├── main.js             # 入口文件
│   └── style.css           # 全局样式
├── scripts/
│   └── generate-icons.js   # PWA 图标生成脚本
├── index.html              # HTML 模板
├── vite.config.js          # Vite 配置
├── package.json            # 项目配置
└── README.md               # 项目说明
```

## 🎯 默认配置

### 默认搜索引擎

项目内置以下默认搜索引擎：

- **Bing**（默认引擎，不可删除）
  - 图标：彩色 SVG 图标
  - URL: `https://www.bing.com/search?q={query}`

用户可以根据需要添加更多搜索引擎。

## 🔒 隐私与安全

- **完全离线**：所有数据存储在浏览器本地，不会上传到任何服务器（除云同步外）
- **无追踪**：不使用任何分析或追踪工具
- **数据加密**：导入导出的配置文件使用动态密钥加密
- **域名绑定**：加密数据与域名绑定，增强安全性
- **私有存储**：云同步数据存储在私有 GitHub Gist 中

## 💡 常见问题

### Q: 如何添加其他搜索引擎？

A: 进入设置页面，找到要添加的搜索引擎的搜索 URL 格式，将搜索关键词替换为 `{query}`，然后填写名称、图标和 URL 即可。

### Q: 数据存储在哪里？

A: 
- **搜索引擎配置**：存储在浏览器的 LocalStorage 中
- **背景图片**：存储在 IndexedDB 中（支持更大的存储空间，原始质量保存）
- **云同步数据**：如果启用了云同步，数据会加密存储在 GitHub Gist 中

所有数据完全离线可用，不会上传到任何服务器（除云同步外）。

### Q: 导出的配置文件可以跨设备使用吗？

A: 可以。导出的配置文件可以在任何设备上导入，但需要注意加密是基于域名和时间的，确保在相同域名下使用。

### Q: 云同步如何工作？

A: 云同步使用 GitHub Gist API 存储加密的配置文件。首次上传会创建一个私有 Gist，之后可以使用相同的 Token 和 Gist ID 在其他设备上下载配置。

### Q: 支持哪些图标格式？

A: 支持三种图标格式：
1. **Emoji**：直接输入 Emoji 字符（如：🔍、🌐）
2. **SVG 文件**：通过上传按钮选择 SVG 格式的图片文件
3. **SVG 路径**：使用 `/path/to/file.svg` 格式的路径

### Q: 如何删除所有自定义搜索引擎？

A: 目前需要逐个删除。或者可以清除浏览器的 LocalStorage，然后重新加载页面（注意：这也会清除其他设置和云同步配置）。

### Q: 背景图片功能如何使用？

A: 
1. 进入设置页面，找到"背景图片"区域
2. 点击"选择图片"按钮，上传背景图片
3. 图片会以原始质量保存到 IndexedDB
4. 系统会自动保存最多 5 张历史背景，可以快速切换
5. 深色模式下会自动添加遮罩，保护眼睛

### Q: 搜索功能需要网络吗？

A: 是的。虽然应用支持离线访问和配置，但实际的搜索功能需要网络连接，因为搜索请求会发送到相应的搜索引擎服务器。

## 🤝 贡献

欢迎提交 Issue 和 Pull Request！

## 📄 许可证

本项目采用 MIT 许可证。详见 [LICENSE](LICENSE) 文件。

## 🙏 致谢

- [Vue.js](https://vuejs.org/) - 渐进式 JavaScript 框架
- [Vite](https://vitejs.dev/) - 下一代前端构建工具
- 所有使用本项目的用户和贡献者

---

**Made with ❤️ by Roc2Liu / Assisted by Claude (Anthropic)**
